{"ast":null,"code":"import React from\"react\";import{useSelector,useDispatch}from'react-redux';import{selectGoods}from'../store/goodsSlice';import{selectCart}from'../store/cartSlice';import Cart from\"../components/Cart\";import{minus,increment,remove}from\"../store/cartSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CartList(){var goods=useSelector(selectGoods);var cart=useSelector(selectCart);console.log('cart',cart);var dispatch=useDispatch();//Переіндeксація масиву\nvar goodsObj=goods.reduce(function(accum,item){accum[item['articul']]=item;return accum;},{});console.log('Переіндексований масив',goodsObj);var clickHandler=function clickHandler(event){var elemBtn=event.target;if(!elemBtn.classList.contains('btn-cart')){return true;};if(elemBtn.classList.contains('btn-minus')){dispatch(minus(elemBtn.getAttribute('data-key')));};if(elemBtn.classList.contains('btn-plus')){dispatch(increment(elemBtn.getAttribute('data-key')));};if(elemBtn.classList.contains('btn-del')){dispatch(remove(elemBtn.getAttribute('data-key')));};};var total=0;var articalsArr=Object.keys(cart);// console.log('Array keys', articalsArr);\nfor(var _i=0,_articalsArr=articalsArr;_i<_articalsArr.length;_i++){var key=_articalsArr[_i];total+=cart[key]*goodsObj[key]['cost'];}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"caption\",{className:\"caption-table\",children:\"Basket\"}),/*#__PURE__*/_jsx(\"thead\",{className:\"head-table\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"body-table\",onClick:clickHandler,children:Object.keys(cart).map(function(item){return/*#__PURE__*/_jsx(Cart,{title:goodsObj[item]['title'],image:goodsObj[item]['image'],price:goodsObj[item]['cost'],quantity:cart[item],articul:item},item+goodsObj[item]['title']);})}),/*#__PURE__*/_jsx(\"tfoot\",{className:\"foot-table\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",children:\"Total:\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:total})]})})]})});}export default CartList;","map":{"version":3,"names":["React","useSelector","useDispatch","selectGoods","selectCart","Cart","minus","increment","remove","CartList","goods","cart","console","log","dispatch","goodsObj","reduce","accum","item","clickHandler","event","elemBtn","target","classList","contains","getAttribute","total","articalsArr","Object","keys","key","map"],"sources":["C:/Users/lenovo/Documents/GitHub/project-react-01/src/containers/CartList.js"],"sourcesContent":["import React from \"react\";\r\nimport { useSelector, useDispatch} from 'react-redux';\r\nimport {\r\n  selectGoods\r\n} from '../store/goodsSlice';\r\nimport {\r\n  selectCart\r\n} from '../store/cartSlice';\r\n\r\nimport Cart from \"../components/Cart\";\r\nimport { minus, increment, remove } from \"../store/cartSlice\";\r\n\r\nfunction CartList() {\r\n  const goods = useSelector(selectGoods);\r\n  const cart = useSelector(selectCart);\r\n  console.log('cart',cart)\r\n  const dispatch = useDispatch();\r\n  //Переіндeксація масиву\r\n  const goodsObj = goods.reduce((accum, item) => {\r\n    accum[item['articul']] = item;\r\n    return accum;\r\n  }, {});\r\n  console.log('Переіндексований масив', goodsObj);\r\n\r\n  const clickHandler = (event) => {\r\n    let elemBtn = event.target;\r\n    if (!elemBtn.classList.contains('btn-cart')) {\r\n      return true\r\n    };\r\n\r\n    if (elemBtn.classList.contains('btn-minus')) {\r\n      dispatch(minus(elemBtn.getAttribute('data-key'))); \r\n    };\r\n    if (elemBtn.classList.contains('btn-plus')){\r\n      dispatch(increment(elemBtn.getAttribute('data-key')));\r\n    };\r\n    if (elemBtn.classList.contains('btn-del')){\r\n      dispatch(remove(elemBtn.getAttribute('data-key')));\r\n    };  \r\n  }\r\n\r\n  let total = 0;\r\n  let articalsArr = Object.keys(cart);\r\n  // console.log('Array keys', articalsArr);\r\n  for (let key of articalsArr) {\r\n    total += cart[key]*goodsObj[key]['cost'];   \r\n  }\r\n    \r\n  return (\r\n    <div>\r\n      <table >\r\n        <caption className='caption-table'>Basket</caption>\r\n        <thead className=\"head-table\">\r\n          <tr>\r\n            <th>Title</th>\r\n            <th>Price</th>\r\n            <th>Quantity</th>\r\n            <th>Amount</th>\r\n            <th>Delete</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody className='body-table' onClick={clickHandler}>  \r\n          {Object.keys(cart).map(item =>\r\n              <Cart\r\n                key={item + goodsObj[item]['title']}\r\n                title={goodsObj[item]['title']}\r\n                image={goodsObj[item]['image']}\r\n                price={goodsObj[item]['cost']}\r\n                quantity={cart[item]}\r\n                articul={item} />\r\n            )} \r\n        </tbody>\r\n        <tfoot className=\"foot-table\">\r\n          <tr>\r\n            <td colSpan='3'>Total:</td>\r\n            <td colSpan='2'>{total}</td>\r\n          </tr>\r\n        </tfoot>            \r\n      </table>\r\n    \r\n          {/* // Object.keys(cart).map(item => \r\n          //   <li key={item + goodsObj[item]['title']}>\r\n          //     {goodsObj[item]['title']}-{cart[item]}\r\n          //   </li> */}\r\n              \r\n   </div>\r\n  )\r\n}\r\nexport default CartList;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}